<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Pupper Pals</title>

	<!-- Latest compiled and minified CSS & JS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
	<script src="https://code.jquery.com/jquery.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>

	<!-- Font Awesome Glyphicons -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">

	<!-- Chosen -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.jquery.min.js"></script>

	<!---Stylesheet -->
	<link rel = "stylesheet" type="text/css" href="style.css">

</head>
<body>

	<div class="container">

		<h2 class = "surveytitle">Sneefin' You Out</h2>
		<hr>

		<h3><strong>Pupper Profile</strong></h3>
		<h4>Name (Pwease)</h4>
		<input type="text" name="" id="name" class="form-control" required >

		<h4>Pic (Pwease)</h4>
		<input type="text" name="" id="photo" class="form-control" required >

		<hr>

		<h3><strong>Bork 1</strong></h3>
		<h4>Cats is my frens.</h4>
	 	<select data-placeholder="" class="chosen-select" id="q1">
	 		<option value=""></option>
            <option value="1">1 (NO)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (YISSSS)</option>
      	</select>

		<h3><strong>Bork 2</strong></h3>
		<h4>Mailmans do me a concern.</h4>
	 	<select data-placeholder="" class="chosen-select" id="q2">
	 		<option value=""></option>
			<option value="1">1 (NO)</option>
			<option value="2">2</option>
			<option value="3">3</option>
			<option value="4">4</option>
			<option value="5">5 (YISSSS)</option>
      	</select>


		<h3><strong>Bork 3</strong></h3>
		<h4>Diggin' da holes make doggo happy.</h4>
	 	<select data-placeholder="" class="chosen-select" id="q3">
	 		<option value=""></option>
			<option value="1">1 (NO)</option>
			<option value="2">2</option>
			<option value="3">3</option>
			<option value="4">4</option>
			<option value="5">5 (YISSSS)</option>
      	</select>


		<h3><strong>Bork 4</strong></h3>
		<h4>Bafs and nail trims do me a concern.</h4>
	 	<select data-placeholder="" class="chosen-select" id="q4">
	 		<option value=""></option>
			<option value="1">1 (NO)</option>
			<option value="2">2</option>
			<option value="3">3</option>
			<option value="4">4</option>
			<option value="5">5 (YISSSS)</option>
      	</select>


		<h3><strong>Bork 5</strong></h3>
		<h4>Fetch make pupper happy.</h4>
	 	<select data-placeholder="" class="chosen-select" id="q5">
	 		<option value=""></option>
			<option value="1">1 (NO)</option>
			<option value="2">2</option>
			<option value="3">3</option>
			<option value="4">4</option>
			<option value="5">5 (YISSSS)</option>
      	</select>


		<h3><strong>Bork 6</strong></h3>
		<h4>I eats lots of kibbles.</h4>
	 	<select data-placeholder="" class="chosen-select" id="q6">
	 		<option value=""></option>
			<option value="1">1 (NO)</option>
			<option value="2">2</option>
			<option value="3">3</option>
			<option value="4">4</option>
			<option value="5">5 (YISSSS)</option>
      	</select>


		<h3><strong>Bork 7</strong></h3>
		<h4>I do a like to birbs and dey tweet tweets.</h4>
	 	<select data-placeholder="" class="chosen-select" id="q7">
	 		<option value=""></option>
			<option value="1">1 (NO)</option>
			<option value="2">2</option>
			<option value="3">3</option>
			<option value="4">4</option>
			<option value="5">5 (YISSSS)</option>
      	</select>

		<h3><strong>Bork 8</strong></h3>
		<h4>I likes do bamboozles to my hooman.</h4>
	 	<select data-placeholder="" class="chosen-select" id="q8">
	 		<option value=""></option>
			<option value="1">1 (NO)</option>
			<option value="2">2</option>
			<option value="3">3</option>
			<option value="4">4</option>
			<option value="5">5 (YISSSS)</option>
      	</select>

		<h3><strong>Bork 9</strong></h3>
		<h4>I loves chews shoes.</h4>
	 	<select data-placeholder="" class="chosen-select" id="q9">
	 		<option value=""></option>
			<option value="1">1 (NO)</option>
			<option value="2">2</option>
			<option value="3">3</option>
			<option value="4">4</option>
			<option value="5">5 (YISSSS)</option>
      	</select>

		<h3><strong>Bork 10</strong></h3>
		<h4>I is good boy/girl.</h4>
	 	<select data-placeholder="" class="chosen-select" id="q10">
	 		<option value=""></option>
			<option value="1">1 (NO)</option>
			<option value="2">2</option>
			<option value="3">3</option>
			<option value="4">4</option>
			<option value="5">5 (YISSSS)</option>
      	</select>

		<br>
		<br>

		<!-- Submit Button -->
		<button type="submit" class="btn btn-primary btn-lg btn-block" id="submit"><i class="fa fa-paw" aria-hidden="true"></i>
   Boop Me</button>

		<hr>
		<footer class="footer">
			<div class="container">
					<p><a href="/api/puppers">List of Puppers</a> | <a href="https://github.com/identipop/friendfinder">Where I Buried My Bone</a></p>
			</div>
		</footer>

	</div>

	<!-- Modal -->
	<div id="matchModal" class="modal fade" role="dialog">
	  <div class="modal-dialog">
	    <div class="modal-content">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal">&times;</button>
	        <h2 class="modal-title"><strong>OH LEWK, A FREN!</strong></h2>
	      </div>
	      <div class="modal-body">
	        <h2 id="matchName"></h2>
	        <img class = "img-responsive resultimage" id="matchImg" src="http://www.robinkbennett.com/wp-content/uploads/2013/11/shutterstock_51472228.jpg" alt="">
	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-default" data-dismiss="modal">BYE</button>
	      </div>
	    </div>

	  </div>
	</div>

  <script type="text/javascript">

  	// Chosen CSS
    var config = {
      '.chosen-select'           : {},
      '.chosen-select-deselect'  : {allow_single_deselect:true},
      '.chosen-select-no-single' : {disable_search_threshold:10},
      '.chosen-select-no-results': {no_results_text:'Oops, nothing found!'},
      '.chosen-select-width'     : {width:"95%"}
    }
    for (var selector in config) {
      $(selector).chosen(config[selector]);
    }

    // Capture the form inputs
    $("#submit").on("click", function(){

    	// Form validation
    	function validateForm() {
		  var isValid = true;
		  $('.form-control').each(function() {
		    if ( $(this).val() === '' )
		        isValid = false;
		  });

		  $('.chosen-select').each(function() {

		  	if( $(this).val() === "")
		  		isValid = false
		  })
		  return isValid;
		}

		// If all required fields are filled
		if (validateForm() == true)
		{
			// Create an object for the user's data
	    	var pupperDataFront = {
	    		"name": $("#name").val(),
	    		"photo": $("#photo").val(),
	    		"scores": [$("#q1").val(), $("#q2").val(), $("#q3").val(), $("#q4").val(), $("#q5").val(), $("#q6").val(), $("#q7").val(), $("#q8").val(), $("#q9").val(), $("#q10").val()]
	    	};


	    	var URL = window.location.origin;



	    	$.post(URL + "/api/puppers", pupperDataFront, function(data){

	    		console.log(data);
					$("#matchName").text(data.matchName);
				  $('#matchImg').attr("src", data.matchImage);


				  $("#matchModal").modal('toggle');

	    	});




		}
		else
		{
			alert("You must do all da barks.");
		}

    	return false;
    });


  </script>

</body>
</html>
